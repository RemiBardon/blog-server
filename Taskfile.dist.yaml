# See <https://taskfile.dev/usage> and <https://taskfile.dev/reference/schema>
# to find all keys and their usage.
version: "3"

silent: true

tasks:
  test:
    desc: Tests that the server builds.
    cmds:
      - task: build
      - task: run

  build:
    internal: true
    cmd: cargo install --path orangutan/src/orangutan-server

  run:
    internal: true
    dotenv: [.env]
    env:
      LOCALHOST: true
      RUST_LOG: orangutan_server=debug,orangutan_helpers::generate=debug
    cmd: orangutan-server
